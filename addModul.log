Script started on Mon 25 Mar 2024 10:38:15 AM UTC
[vagrant@lvm ~]$ ls
addModul.log  changeVG.log
[vagrant@lvm ~]$ sudo su
[root@lvm vagrant]# mkdir /usr/lib/dracut/modules.d/01test
[root@lvm vagrant]# cd /usr/lib/dracut/modules.d/01test
[root@lvm 01test]# pwd
/usr/lib/dracut/modules.d/01test
[root@lvm 01test]# touch module-setup.sh test.sh
[root@lvm 01test]# vi module-setup.sh 
[root@lvm 01test]# vi test.sh 
[root@lvm 01test]# cmod +x module-setup.sh test.sh 
bash: cmod: command not found
[root@lvm 01test]# chmod +x module-setup.sh test.sh 
[root@lvm 01test]# ls -la
total 12
drwxr-xr-x.  2 root root   44 Mar 25 10:40 .
drwxr-xr-x. 52 root root 4096 Mar 25 10:38 ..
-rwxr-xr-x.  1 root root  126 Mar 25 10:39 module-setup.sh
-rwxr-xr-x.  1 root root  332 Mar 25 10:40 test.sh
[root@lvm 01test]# dracut -f -v
Executing: /sbin/dracut -f -v
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
dracut module 'busybox' will not be installed, because command 'busybox' could not be found!
dracut module 'crypt' will not be installed, because command 'cryptsetup' could not be found!
dracut module 'dmraid' will not be installed, because command 'dmraid' could not be found!
dracut module 'dmsquash-live-ntfs' will not be installed, because command 'ntfs-3g' could not be found!
dracut module 'multipath' will not be installed, because command 'multipath' could not be found!
*** Including module: bash ***
*** Including module: test ***
*** Including module: nss-softokn ***
*** Including module: i18n ***
*** Including module: drm ***
*** Including module: plymouth ***
*** Including module: dm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 60-persistent-storage-dm.rules
Skipping udev rule: 55-dm.rules
*** Including module: kernel-modules ***
Omitting driver floppy
*** Including module: lvm ***
Skipping udev rule: 64-device-mapper.rules
Skipping udev rule: 56-lvm.rules
Skipping udev rule: 60-persistent-storage-lvm.rules
*** Including module: qemu ***
*** Including module: resume ***
*** Including module: rootfs-block ***
*** Including module: terminfo ***
*** Including module: udev-rules ***
Skipping udev rule: 40-redhat-cpu-hotplug.rules
Skipping udev rule: 91-permissions.rules
*** Including module: biosdevname ***
*** Including module: systemd ***
*** Including module: usrmount ***
*** Including module: base ***
*** Including module: fs-lib ***
*** Including module: shutdown ***
*** Including modules done ***
*** Installing kernel module dependencies and firmware ***
*** Installing kernel module dependencies and firmware done ***
*** Resolving executable dependencies ***
*** Resolving executable dependencies done***
*** Hardlinking files ***
*** Hardlinking files done ***
*** Stripping files ***
*** Stripping files done ***
*** Generating early-microcode cpio image contents ***
*** No early-microcode cpio image needed ***
*** Store current command line parameters ***
*** Creating image file ***
*** Creating image file done ***
*** Creating initramfs image file '/boot/initramfs-3.10.0-862.2.3.el7.x86_64.img' done ***
[root@lvm 01test]# lsinitrd -m /boot/initramfs-$(uname -r).img | grep test
test
[root@lvm 01test]# exit
[vagrant@lvm ~]$ exit

Script done on Mon 25 Mar 2024 10:42:00 AM UTC
